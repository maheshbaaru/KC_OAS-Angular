<p-panel>
  <ng-template pTemplate="header" >
    <div  class="col -md-6" >
    <strong>LEAVES APPROVAL</strong>
  </div>

  </ng-template>
  <div class="row">

      <form [formGroup]="empForm" class=" form-styles cont  ">

        <!-- empId Filter -->
          <div class="cont2 ">
              <label for="designation-input" class="input-styling" required>EmpID
                  <span class="required">*</span>
              </label>
              <p-dropdown
                 [options]="employeeName" 
                 placeholder="Select Employee" 
                 optionLabel="Name" 
                 [showClear]="true"
                  formControlName="empName"
                  (onChange)="dt1.filter($event.value, employeeName.Name, 'equals')"
                  >
                </p-dropdown>


                <!-- <p-columnFilter field="Name" matchMode="equals" display="menu"   [showOperator]="false" [showMatchModes]="false"> 
                  <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                      <p-dropdown [ngModel]="value" [options]="employeeName"  placeholder="Any">
                          <ng-template let-option pTemplate="item">
                              {{option.Name}}
                          </ng-template>
                      </p-dropdown>
                  </ng-template>
              </p-columnFilter> -->

              <!-- <p-columnFilter field="Name" matchMode="equals" [showMenu]="true">
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                [ngModel]="value"
                 [options]="employeeName" 
                 (onChange)="filter($event.value)"
                 placeholder="Select Employee" 
                 [showClear]="true"
                 optionLabel="Name" 
                  >
                  <ng-template let-option pTemplate="item">
                    <p-tag [value]="option.Name"></p-tag>
                </ng-template>
                </p-dropdown>
              </ng-template>
            </p-columnFilter> -->

            
          </div>

          <!-- Status Id Filter -->
          <div class="cont2 ">
              <label for="designation-input" class="input-styling" required>Status ID

              </label>
              <p-dropdown 
              [options]="statusTypes" 
              placeholder="Select Status Type" optionLabel="name"
              [showClear]="true" formControlName="name"></p-dropdown>
          </div>


          <div class="cont2">
              <label for="designation-input" class="input-styling" required>From Date
              </label>
              <p-calendar [showIcon]="true"  id="designation-input" placeholder="DD/MM/YYYY" name="year"  formControlName="year"></p-calendar>
          </div>
          <div class="cont2">
            <label for="designation-input" class="input-styling" required>To Date
            </label>
            <p-calendar [showIcon]="true"  id="designation-input" placeholder="DD/MM/YYYY" name="yearTo" formControlName="yearTo"></p-calendar>
        </div>

      </form>


</div>

  <p-table 
        #dt1 [value]="leavesApproved" 
        styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped" 
        [tableStyle]="{'min-height': '20rem'}" [paginator]="true" 
        [rows]="10" [showCurrentPageReport]="true"  
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" 
        [rowsPerPageOptions]="[10,25,50]" 
        [globalFilterFields]="['id','empName','leaveTypeId','numOfDays','fromDate','toDate','appliedOn','statusId','comments','adminComments']" 
        responsiveLayout="scroll">




    <ng-template pTemplate="header">
      <tr>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Emp ID
          <p-columnFilter type="text" field="id" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
            Emp Name
            <p-columnFilter type="text" field="empName" display="menu"></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Leave Type
          <p-columnFilter type="text" field="leaveTypeId" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Num Of Days
          <p-columnFilter type="text" field="numOfDays" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          From Date
          <p-columnFilter type="text" field="fromDate" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          To Date
          <p-columnFilter type="text" field="toDate" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Applied On
          <p-columnFilter type="text" field="appliedOn" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Status
          <p-columnFilter type="text" field="statusId" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Comments
          <p-columnFilter type="text" field="comments" display="menu"></p-columnFilter>

        </div>
        </th>
        <th>
          <div class="p-d-flex p-jc-between p-ai-center">
          Admin Comments
          <p-columnFilter type="text" field="adminComments" display="menu"></p-columnFilter>

        </div>
        </th>

      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-emp>
      <tr>
        <td >
          <a [routerLink]="['../approval-screen', emp.id]" class="empId">
             KC{{emp.empId<100?'0'+emp.empId:emp.empId}}
          </a>
        </td>
        <td>{{emp.empName}}</td>
        <td>{{emp.leaveTypeId}}</td>
        
        <td>{{emp.numOfDays}}</td>
        <td>{{emp.fromDate}}</td>
        <td>{{emp.toDate}}</td>
        <td>{{emp.appliedOn}}</td>
        <td>{{emp.statusId}}</td>
        <td>{{emp.comments}}</td>
        <td>{{emp.adminComments}}</td>


      </tr>
    </ng-template>
  </p-table>

</p-panel>
